window.SITE_ROOT = '/bootstrap-example';

const {
    Component,
    tg,
    vnui,
    core,
    bs4,
    geo
} = vila;

class Body extends Component {
    render() {
        return tg.div([
            new bs4.Navbar({
                links: [
                    new core.Link({
                        text: 'Page 1',
                        to: '/page1',
                        params: {
                            a: Math.random()*100
                        },
                    }),
                    new core.Link({
                        button: tg.span([
                            tg.span('Crap'),
                            new bs4.Badge({
                                text: '10',
                                style: 'margin-left: 2px;',
                            }),
                        ]),
                        to: '/page2',
                    })

                ]
            }),
            new Router()
        ]);
    }
}

class Router extends Component {
    render() {
        return tg.div([
            new core.Route({
                path: '/',
                component: IndexPage,
                exact: true,
            }),
            new core.Route({
                path: '/page2',
                component: Page2,
            }),
            new core.Route({
                path: '/page1',
                component: Page1,
            }),
        ]);
    }
}

class IndexPage extends Component {
    render() {
        return new bs4.Container([
            new bs4.Alert({
                text: 'You have 10 unread messages!',
            }),
            tg.h1('Welcome to the site!'),
        ]);
    }
}

class Page1 extends Component {
    setup(init) {
        this.params = init.params;
    }
    
    render() {
        return new bs4.Container([
            tg.h2({
                text: this.params.a,
                class: '',
            }),
            tg.div({
                text: 'awefoij',
            }),
            new bs4.Alert({
                text: 'uh oh something went wrong',
                kind: 'danger',
                children: [
                    tg.div('OIWJEFOIWJEFOWIEJF')
                ]
            }),
            tg.textarea({
                text: 'awef',
            }),
            new bs4.Badge({
                text: 'HEHE',
                kind: 'light',
                pill: false,
                href: 'http://google.com',
                tag: tg.a
            }),
            new bs4.Link({
                text: 'Go Back to Index',
                to: '/',
            }),
            new bs4.Dropdown({
                ref: 'dropdown',
                options: [
                    'awoeijf',
                    'aweoiwe',
                    'aeorbinerb'
                ]
            })
        ]);
    }
}

class Page2 extends Component {
    render() {
        return new bs4.Container([
            tg.h1('Page 2!!!'),
            tg.button({
                onclick: function () {
                },
                text: 'Back to index',
            }),
        ]);
    }
}
