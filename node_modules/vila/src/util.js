export function text(obj) {
    if (typeof obj === 'object') {
        return obj.text;
    } else if (typeof obj === 'function') {
        return obj();
    }
    return obj;
}

function mergeInits(init2, init1) {
    for (const key in init1) { // auto merge down
        // todo merge attrs better and other things better
        if (init1[key] === init2[key]) {
            continue;
        }

        const val = init1[key];

        if (key === 'text') {
            init2[key] = init1[key]; // overwrite
        } else if (typeof val === 'string') {
            if (init2[key]) {
                init2[key] += ' ' + val;
            } else {
                init2[key] = val;
            }
        } else if (typeof val === 'object') {
            // merge objects
        } else {
            init2[key] = init1[key];
        }
    }
}

export default {
    text,
    mergeInits,
};
